회사가 자체 관리 메시지 지향 미들웨어 시스템에서 Amazon SQS로 메시징 대기열을 마이그레이션하고 있습니다. 회사의 개발팀은 SQS 사용 비용을 최소화하고자 합니다.

주어진 사용 사례에 대해 다음 중 어떤 옵션을 추천하겠습니까?

정답:SQS 긴 폴링을 사용하여 Amazon SQS 대기열에서 메시지를 검색


## Amazon SQS
- 완전관리형 메시지 대기열 서비스
(1번문제 참고)
## 마이그레이션

### 완전관리형
- 하나에서 전부 관리 가능하다는 뜻


## 폴링
- 통신에서, "폴링"은 한 프로그램이나 장치에서 다른 프로그램이나 장치들이 어떤 상태에 있는지를 지속적으로 체크하는 전송제어 방식으로서, 대체로 그들이 아직도 접속되어 있는 지와 데이터 전송을 원하는지 등을 확인한다.

### 짧은 폴링
- 서버의 하위 세트 (가중치 기반 무작위 배포 기준) 만을 쿼리하여 응답에 포함할 메시지를 찾습니다. Amazon SQS 쿼리에 메시지가 없는 경우에도 즉시 응답을 전송합니다.
- 특징:무작위 샘플링 -> 메시지반환


### 긴 폴링
- 모든 서버에 메시지를 쿼리합니다. Amazon SQS 적어도 하나의 사용 가능한 메시지를 수집한 후 요청에 지정된 최대 메시지 수까지 응답을 보냅니다. Amazon SQS 폴링 대기 시간이 만료되는 경우에만 빈 응답을 보냅니다.
- 특징:빈 응답의 수를 제거하여 Amazon SQS 사용 비용을 절감


결국 짧은 폴링보다 긴 폴링 추천

거의 모든 경우 Amazon SQS 짧은 폴링보다 긴 폴링을 사용하는 것이 좋습니다. 긴 폴링 요청을 사용하면 대기열 소비자가 대기열에 메시지가 도착하는 대로 이를 수신할 수 있으므로 빈 ReceiveMessageResponse 인스턴스가 반환되는 횟수가 줄어듭니다.

Amazon SQS 긴 폴링은 대부분의 사용 사례에서 비용은 감소하고 성능은 향상되는 결과를 보입니다. 하지만 애플리케이션이 ReceiveMessage 호출에서 즉각적인 응답을 요구하는 경우, 긴 폴링의 이점을 활용하려면 애플리케이션을 일부 수정해야 할 수도 있습니다.