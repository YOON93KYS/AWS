# EC2の概要

## EC2の特徴
数分で利用可能となる従量課金（時間~秒単位）で利用可能な仮想サーバー
- 起動・ノート追加・削除・マシンスペック変更が数分で可能
- 汎用的なINTELアーキテクチャを採用
- 管理者権限で利用可能
- WindowsやLinuxなどほとんどのOSをサポート(AMIと言う仕組み)
- OSまでは提供されているタイプを選択することで自動設定され、OSより上のレイヤーを自由に利用可能
- 独自のAmazon Machin ImageにOS設定を作成し、保存して再利用が可能 
 
利用する単位をインスタンスと呼び、仕様のAZにインスタンスを立ち上げてサーバーとして利用する

## EC2の起動方法
### ① AMI（OSセッティング）を選択
AMI：インスタンス起動用のOSイメージ
- AMI（AWS提供）
- AMI（3rd patry）
- カスタムAMI（自作）
### ② インスタンスタイプを選択
ex) t2.nano
t2：ファミリーと世代
nano：インスタンスの容量
#### インスタンスファミリー
ユースケースに応じてインスタンスタイプを選択する
- 汎用：A1、M5、T3
 - バランス型
- コンピューティング最適化：C5、C6g
 - 高パフォーマンスプロセッサが必要なコンピューティングバウンドなアプリケーションに利用
- メモリ最適化：X1、X5、ハイメモリ、z1d
 - メモリ内の大きいデータセットを処理するワークロードに対する高度なパフォーマンスに最適なインスタンス
- ストレージ最適化：H1、D2、I3、I3en
 - ローカルストレージの大規模データセットに対する高いシーケンシャル読み取りおよび書き込みアクセスを必要とするワークロード用
- 高度コンピューティング：P3、Inf1、G4、F1
 - 計算やグラフィックス処理に最適

#### インスタンスの購入方式
インスタンスの購入方式に応じて割引価格が提供されるため、用途に応じて割引価格を利用することが需要となる
- オンデマンドインスタンス
 - 通常のインスタンス購入方式
 - 秒単位で支払う
 - 開始、再起動などのライフサイクルを完全に制御できる
- リザーブドインスタンス（Reserved Instances）
 - 1年または3年期間利用を予約することで、安く使える購入形式
 - 特定アベイラビリティーゾーンまたはリージョンで使用するキャパシティーを予約できる2つのタイプがある
- スケジュールドリザーブドインスタンス
 - １年間にわたり毎日・毎週・または毎月ベースの指定された開始時間お四時期間で繰り返しキャパシティー予約を購入する。
 - 継続的には実行されないがていき的なスケジュールで実行されるワークロードに利用する
- スポットインスタンス
 - 安い価格で利用できるAWS間利用に保持されているが使ってないEC2インスタンス
 - 実行時間に柔軟性がある場合や、中断できる処理に利用する

### ③ インスタンスタイプの詳細を設定

### ④ ストレージを選択
EC2で直接利用するストレージは不可分なインスタンスストアと自分で設定するEBSの2つ
#### インスタンスストア
- 無料
- EC2の一時的なデータが保存され、EC2の停止・終了と共にクリアされる
#### EBS（Elastic Block Store）
- 別途EBS料金が必要
- EC2をTerminateしてもEBSは保存・維持可能で、SnapshotをS3に保存可能

### ⑤ タグを追加
### ⑥ セキュリティグループを選択
### ⑦ キーペアを設定